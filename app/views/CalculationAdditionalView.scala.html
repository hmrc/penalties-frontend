@*
 * Copyright 2022 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import config.AppConfig

@this(
    layout: Layout,
    link: components.link,
    details: GovukDetails
)


@(daysSince31: Long,
        isEstimate: Boolean,
        additionalPenaltyRate: String,
        startDate: String,
        endDate: String,
        penaltyAmount: String,
        amountReceived:String,
        amountLeftToPay:String
        )(implicit request: Request[_], messages: Messages, appConfig: AppConfig, user: User[_])

@layout(pageTitle = messages("calculation.headingAndTitle.additional"), isPageFullWidth = false, isUserAgent = user.isAgent,
    extraBreadcrumbs = Some(Seq((messages("index.breadcrumb.index"), controllers.routes.IndexController.onPageLoad.url)))) {
     <header class="hmrc-page-heading govuk-!-margin-top-0">
         <h1 class="govuk-heading-l govuk-!-margin-bottom-5">@messages("calculation.headingAndTitle.lpp")</h1>
         <p class="govuk-caption-xl hmrc-caption-xl penalty-information-caption">
            <span class="govuk-visually-hidden">@messages("calculation.heading.lppAndAdditional.hiddenText") </span>@messages("calculation.caption", startDate, endDate)</p>
    </header>

    <p class="govuk-body">@messages("calculation.p.1.additional")</p>

    <dl class="govuk-summary-list">
        <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
                @if(!isEstimate) {
                    @messages("calculation.key.1")
                } else {
                    @messages("calculation.key.1.estimate")
                }
            </dt>
            <dd class="govuk-summary-list__value">@messages("calculation.value.amount", penaltyAmount)</dd>
        </div>
        <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">@messages("calculation.key.2.additional")</dt>
            <dd class="govuk-summary-list__value">@messages("calculation.key.2.additional.text", daysSince31)</dd>
        </div>
        <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">@messages("calculation.key.3.additional")</dt>
            <dd class="govuk-summary-list__value">@messages("calculation.key.3.additional.text", additionalPenaltyRate)</dd>
        </div>
        <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">@messages("calculation.key")</dt>
            <dd class="govuk-summary-list__value">@messages("calculation.key.4.additional.text")</dd>
        </div>
        <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">@messages("calculation.key.3")</dt>
            <dd class="govuk-summary-list__value">@messages("calculation.value.amount", amountReceived)</dd>
        </div>
        <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">@messages("calculation.key.4")</dt>
            <dd class="govuk-summary-list__value">@messages("calculation.value.amount", amountLeftToPay)</dd>
        </div>
    </dl>

    @if(isEstimate){
        <h2 class="govuk-heading-s">@messages("calculation.h2.additional")</h2>
        <p class="govuk-body">@messages("calculation.p.2.additional")</p>
    }

    <p class="govuk-body">
        <a class="govuk-link" href="@controllers.routes.IndexController.onPageLoad.url">@messages("calculation.returnLink")</a>
    </p>
}